<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link
      href="/LightIcon.svg"
      rel="icon"
      media="(prefers-color-scheme: light)"
    />
    <link
      href="/DarkIcon.svg"
      rel="icon"
      media="(prefers-color-scheme: dark)"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta
      name="theme-color"
      content="#F7F7F7"
      media="(prefers-color-scheme: light)"
    />
    <meta
      name="theme-color"
      content="#1A1A1A"
      media="(prefers-color-scheme: dark)"
    />
    <title>Escruta</title>
    <meta name="og:title" content="Escruta - Think, ask, learn" />
    <meta
      name="og:description"
      content="Organize, analyze, and learn from your own knowledge. Ask questions, take notes, and get insightsâ€”all in a open-source platform."
    />
    <meta name="og:type" content="website" />
    <meta name="og:url" content="https://escruta.francids.com" />
    <meta
      name="og:image"
      content="https://escruta.francids.com/OpenGraphImage.png"
    />
    <script>
      (function () {
        function getCookie(name) {
          const value = `; ${document.cookie}`;
          const parts = value.split(`; ${name}=`);
          if (parts.length === 2) return parts.pop().split(";").shift();
        }

        function initializeTheme() {
          let themePreference;
          try {
            const cookieValue = getCookie("themePreference");
            themePreference = cookieValue
              ? JSON.parse(decodeURIComponent(cookieValue))
              : "System";
          } catch (e) {
            themePreference = "System";
          }

          document.documentElement.classList.remove("dark", "light");

          if (themePreference === "Dark") {
            document.documentElement.classList.add("dark");
          } else if (themePreference === "Light") {
            document.documentElement.classList.add("light");
          } else {
            if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
              document.documentElement.classList.add("dark");
            } else {
              document.documentElement.classList.add("light");
            }
          }
        }

        initializeTheme();
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
